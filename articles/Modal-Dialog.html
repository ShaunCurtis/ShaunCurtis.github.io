<!DOCTYPE html>
<html lang="en">
<head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="Your description">
<meta name="author" content="Your name">

<!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
<meta property="og:site_name" content="" /> <!-- website name -->
<meta property="og:site" content="" /> <!-- website link -->
<meta property="og:title" content="" /> <!-- title shown in the actual shared post -->
<meta property="og:description" content="" /> <!-- description shown in the actual shared post -->
<meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
<meta property="og:url" content="" /> <!-- where do you want your post to link to -->
<meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta name="description" content="This article describes how to build a modal dialog for Blazor that you can use with any form." >
<meta name="author" content="Shaun Curtis" >



<title>A Blazor Modal Dialog</title>


<!-- Custom fonts for this template-->
<link href="/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet">

<!-- Custom styles for this template-->
<link href="/assets/css/sb-admin-2.css" rel="stylesheet" type="text/css">
<link href="/assets/css/site.css" rel="stylesheet" type="text/css">

<!-- Favicon  -->
<link rel="icon" href="/assets/images/favicon.png">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
    <link rel="stylesheet" href="/assets/css/article.css" type="text/css">
</head>
<body id="page-top">
    <!--topbar-->
    <div id="topbar">
        
<!-- Topbar -->
<nav class="navbar navbar-expand navbar-light topbar mb-4 static-top">
    
<ul class="navbar-nav" >
<li class="nav-item" >
<a class="nav-link " href="/index.html" role="button"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Index</span>
</a>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="6cee9113-8ee0-4e6e-9bc8-7ee211bb585a" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Articles</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="6cee9113-8ee0-4e6e-9bc8-7ee211bb585a" >
<a class="dropdown-item" href="/articles/A-Flexible-App.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Creating a Dynamic Blazor App Component
</a>
<a class="dropdown-item" href="/articles/Async-Programming-in-DotNetCore.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Async Programming In Dotnetcore
</a>
<a class="dropdown-item" href="/articles/Blazor-AllinOne.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor All In One - Multi SPA Hosting
</a>
<a class="dropdown-item" href="/articles/Blazor-Async-Programming.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async Programming
</a>
<a class="dropdown-item" href="/articles/Blazor-Brick-By-Brick.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Brick By Brick
</a>
<a class="dropdown-item" href="/articles/Blazor-Components.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Components
</a>
<a class="dropdown-item" href="/articles/Blazor-CSS.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor CSS
</a>
<a class="dropdown-item" href="/articles/Blazor-DataList-Control.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Datalist Control
</a>
<a class="dropdown-item" href="/articles/Blazor-Form-Validation.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Form Validation
</a>
<a class="dropdown-item" href="/articles/Building-Blazor-List-Components.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building Blazor List Components and the Notification Pattern
</a>
<a class="dropdown-item" href="/articles/Building-Edit-Forms.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building Edit Forms
</a>
<a class="dropdown-item" href="/articles/EditFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor EditFormState Control
</a>
<a class="dropdown-item" href="/articles/Hydra.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Hydra
</a>
<a class="dropdown-item" href="/articles/Inline-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor Inline Dialog Control
</a>
<a class="dropdown-item" href="/articles/Modal-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Modal Dialog
</a>
<a class="dropdown-item" href="/articles/Policy-Based-Authorization.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Policy Base Authorization in Blazor
</a>
<a class="dropdown-item" href="/articles/ValidationFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Validation Control
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="70b20fcc-eeea-40e8-8d87-d12472020d47" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Blazor Database Apps</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="70b20fcc-eeea-40e8-8d87-d12472020d47" >
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-1.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 1
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-2.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 2
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-3.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 3
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-4.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 4
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-5.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 5
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-6.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 6
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/index.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building a Database Application in Blazor
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="3b2d3bd2-84d5-45ce-b9b7-2c715eda32b1" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Design</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="3b2d3bd2-84d5-45ce-b9b7-2c715eda32b1" >
<a class="dropdown-item" href="/Design/Clean-Design-In-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Clean Design Principles in Blazor Applications
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Clean Design Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Solution-Structure.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Solution Structure in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-DataServices.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Data Services in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-UI.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The UI in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Solution-Setup.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Solution Setup in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Testing.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Testing in the Clean Design Blazor Template
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="88abc308-efe4-4574-9f0f-4b40479abb9b" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Modern C#</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="88abc308-efe4-4574-9f0f-4b40479abb9b" >
<a class="dropdown-item" href="/Modern-Coding-Patterns/Nullable-And-VS-2022.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Nullable And VS 2022
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="1c76dc40-b9f2-4110-a4c6-fd5ffb1cbdc6" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Posts</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="1c76dc40-b9f2-4110-a4c6-fd5ffb1cbdc6" >
<a class="dropdown-item" href="/posts/Blazor-Async-UI-Events.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async UI Events
</a>
<a class="dropdown-item" href="/posts/Blazor-Bootstrap-Toaster.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Bootstrap Toaster
</a>
<a class="dropdown-item" href="/posts/Blazor-Services.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Services
</a>
<a class="dropdown-item" href="/posts/DBContexts-In-Transient-Services.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Dbcontexts In Transient Services
</a>
<a class="dropdown-item" href="/posts/DynamicCss.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Dynamic Stylesheets
</a>
<a class="dropdown-item" href="/posts/For-ForEach-in-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
For Foreach In Blazor
</a>
<a class="dropdown-item" href="/posts/Notification-Service-Pattern.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Notification Service Pattern
</a>
<a class="dropdown-item" href="/posts/The-Blazor-WASM-Hosted-Project.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor WASM Hosted Project
</a>
<a class="dropdown-item" href="/posts/XML-XSD-Serialization.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
XML XSD Serialization
</a>
</div>
</li>
</ul>

    <div class="ms-5 me-5 ml-auto">
        <h1>Cold Elm Coders</h1>
    </div>
</nav>


    </div>
    <!--End topbar-->
    <!--Sidebar-->
    <div id="sidebar">
        
<div class="article-info p-2" Published: 23-10-2020 >
<div>Published: 23-10-2020</div>
<div>Last Updated: 25-06-2021</div>
<div>Author: Shaun Curtis</div>
</div>

        
<h4 class="p-2">Table of Contents</h4>
<ul class="TOC" >
<li class="TOC-item TOC-item-0" >
<a class="TOC-link" href="#">Top</a>
<ul class="TOC TOC-0" >
<li class="TOC-item TOC-item-1" >
<ul class="TOC TOC-1" >
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#overview">Overview</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#code-and-examples">Code and Examples</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#the-modal-dialog-classes">The Modal Dialog Classes</a>
<ul class="TOC TOC-2" >
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#imodal">IModal</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#modalresulttype">ModalResultType</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#modalresult">ModalResult</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#modaloptions">ModalOptions</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#basemodaldialog">BaseModalDialog</a>
</li>
</ul>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#implementing-modals">Implementing Modals</a>
<ul class="TOC TOC-2" >
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#inital-setup">Inital Setup</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#modify-fetchdata">Modify FetchData</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#modify-indexrazor">Modify Index.razor</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#form-using-bootstrapmodal">Form using BootstrapModal</a>
</li>
</ul>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#wrap-up">Wrap Up</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
    <!--End Sidebar-->
    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <div id="article">
                    <!-- Article -->
                    
<!-- Header -->
<header class="ex-header-article">
    <div class="container">
        <div class="row pt-3 pb-3 border-bottom">
            <div class="col">
                
<h1>A Blazor Modal Dialog</h1>
<div>This article describes how to build a modal dialog for Blazor that you can use with any form.</div>

            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</header> <!-- end of ex-header -->
<!-- end of header -->


                    
<!-- Article Container -->
<div class="ex-basic-1 pt-4">
    <div class="container">
        <div class="row">
            <div class="col-12">
                

        <h2 id="overview">Overview</h2>
<p>If a web based SPA [Single Page Application] is goinfg to look like a a real application it needs a modal dialog framework.  This article shows how to build a modal dialog container for Blazor <code>IComponents</code>.</p>
<h2 id="code-and-examples">Code and Examples</h2>
<p>The component is part of my Application Framework Library <code>Blazor.Database</code> avaliable on Github at <a href="https://github.com/ShaunCurtis/Blazor.Database">Blazor.Database Repo</a>.</p>
<p>You can see a live version of the site here <a href="https://cec-blazor-database.azurewebsites.net/">CEC.Blazor WASM Site</a> - look at <em>Modal Weather</em>.</p>
<h2 id="the-modal-dialog-classes">The Modal Dialog Classes</h2>
<p>There are three classes, one interface and one Enum:</p>
<ol>
<li><code>IModalDialog</code></li>
<li><code>BaseModalDialog</code></li>
<li><code>ModalOptions</code></li>
<li><code>ModalResult</code></li>
<li><code>ModalResultType</code></li>
</ol>
<h3 id="imodal">IModal</h3>
<p><code>IModalDialog</code> defines an interface that all modal dialogs must implementation.</p>
<pre><code class="language-csharp"><div><span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.Modal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IModalDialog</span>
    {
        ModalOptions Options { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

        <span class="hljs-comment">//  Method to display a Modal Dialog</span>
        <span class="hljs-function"><span class="hljs-title">Task</span>&lt;<span class="hljs-title">ModalResult</span>&gt; <span class="hljs-title">ShowAsync</span>&lt;<span class="hljs-title">TModal</span>&gt;(<span class="hljs-params">ModalOptions options</span>) <span class="hljs-keyword">where</span> TModal : IComponent</span>;

        <span class="hljs-comment">// Method to update the Modal Dialog during display</span>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params">ModalOptions options = <span class="hljs-literal">null</span></span>)</span>;

        <span class="hljs-comment">// Method to dismiss - normally called by the dismiss button in the header bar</span>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dismiss</span>(<span class="hljs-params"></span>)</span>;

        <span class="hljs-comment">// Method to close the dialog - normally called by the child component TModal</span>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Close</span>(<span class="hljs-params">ModalResult result</span>)</span>;
    }
}
</div></code></pre>
<h3 id="modalresulttype">ModalResultType</h3>
<pre><code class="language-csharp"><div><span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.Modal</span>
{
    <span class="hljs-comment">// Defines the types for exiting the dialog</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> ModalResultType
    {
        NoSet,
        OK,
        Cancel,
        Exit
    }
}
</div></code></pre>
<h3 id="modalresult">ModalResult</h3>
<p><code>ModalResult</code> is passed back to the <code>Show</code> caller as the <code>Task</code> completion result when the modal closes.</p>
<pre><code class="language-csharp"><div><span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.Modal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ModalResult</span>
    {
        <span class="hljs-comment">// The closing type</span>
        <span class="hljs-keyword">public</span> BootstrapModalResultType ResultType { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } = ModalResultType.NoSet;

        <span class="hljs-comment">// Whatever object you wish to pass back</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">object</span> Data { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">null</span>;

        <span class="hljs-comment">// A set of static methods to build a BootstrapModalResult</span>

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">OK</span>(<span class="hljs-params"></span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() {ResultType = ModalResultType.OK };

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">Exit</span>(<span class="hljs-params"></span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() {ResultType = ModalResultType.Exit};

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">Cancel</span>(<span class="hljs-params"></span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() {ResultType = ModalResultType.Cancel };

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">OK</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> data</span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() { Data = data, ResultType = ModalResultType.OK };

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">Exit</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> data</span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() { Data = data, ResultType = ModalResultType.Exit };

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ModalResult <span class="hljs-title">Cancel</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> data</span>)</span> =&gt; <span class="hljs-keyword">new</span> ModalResult() { Data = data, ResultType = ModalResultType.Cancel };
    }
}
</div></code></pre>
<h3 id="modaloptions">ModalOptions</h3>
<p><code>ModalOptions</code> is an <code>IEnumerable</code> collection of options passed to the Modal Dialog class when opening the Dialog.</p>
<pre><code class="language-csharp"><div><span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.Modal</span>
{   <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ModalOptions</span> :<span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">KeyValuePair</span>&lt;<span class="hljs-title">string</span>, <span class="hljs-title">object</span>&gt;&gt;
    {
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> List of options</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> __Width = <span class="hljs-string">&quot;Width&quot;</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> __ID = <span class="hljs-string">&quot;ID&quot;</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> __ExitOnBackGroundClick = <span class="hljs-string">&quot;ExitOnBackGroundClick&quot;</span>;

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Dictionary</span>&lt;<span class="hljs-title">string</span>, <span class="hljs-title">object</span>&gt; Parameters</span> { <span class="hljs-keyword">get</span>; } = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">object</span>&gt;();

        <span class="hljs-keyword">public</span> IEnumerator&lt;KeyValuePair&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">object</span>&gt;&gt; GetEnumerator()
        {
            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> Parameters)
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> item;
        }

        IEnumerator IEnumerable.GetEnumerator()
            =&gt; <span class="hljs-keyword">this</span>.GetEnumerator();

        <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">Get</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">string</span> key</span>)</span>
        {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Parameters.ContainsKey(key))
            {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Parameters[key] <span class="hljs-keyword">is</span> T t) <span class="hljs-keyword">return</span> t;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">default</span>;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">TryGet</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">string</span> key, <span class="hljs-keyword">out</span> T <span class="hljs-keyword">value</span></span>)</span>
        {
            <span class="hljs-keyword">value</span> = <span class="hljs-keyword">default</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Parameters.ContainsKey(key))
            {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Parameters[key] <span class="hljs-keyword">is</span> T t)
                {
                    <span class="hljs-keyword">value</span> = t;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Set</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> key, <span class="hljs-keyword">object</span> <span class="hljs-keyword">value</span></span>)</span>
        {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Parameters.ContainsKey(key))
            {
                <span class="hljs-keyword">this</span>.Parameters[key] = <span class="hljs-keyword">value</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">this</span>.Parameters.Add(key, <span class="hljs-keyword">value</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
}
</div></code></pre>
<h3 id="basemodaldialog">BaseModalDialog</h3>
<p>The Razor Markup for <code>BaseModalDialog</code> implements the markup for a dialog.  A cascading value provides child form access to the <code>IModalDialog</code> instance.</p>
<pre><code class="language-csharp"><div>@namespace Blazr.Modal
@inherits ComponentBase
@implements IModalDialog

@if (<span class="hljs-keyword">this</span>.Display)
{
    &lt;CascadingValue Value=<span class="hljs-string">&quot;(IModalDialog)this&quot;</span>&gt;
        &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;base-modal-background&quot;</span> @onclick=<span class="hljs-string">&quot;OnBackClick&quot;</span>&gt;
            &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;base-modal-content&quot;</span> style=<span class="hljs-string">&quot;@this.Width&quot;</span> @onclick:stopPropagation=<span class="hljs-string">&quot;true&quot;</span>&gt;
                @this._Content
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/CascadingValue&gt;
}
</div></code></pre>
<p>Some key points:</p>
<ol>
<li>The component is initialised when the View is created and added to the RenderTree.  At this point it empty and hidden.</li>
<li>There's no need for multiple copies in different forms.  When &quot;hidden&quot; there's no form loaded.  Calling <code>Show&lt;TForm&gt;</code>, with the form to display defined as <code>TForm</code>, shows the dialog with an instance of <code>TForm</code> as it's child content.</li>
<li>The component hides itself.  Either the child form calls <code>Close</code> on the cascaded <code>IModalDialog</code> instance, or the modal calls <code>Dismiss</code>.  Both actions set the Task to completed, <code>Display</code> to false,  clear the content, and call <code>Render</code> which renders an empty component.</li>
<li>The component uses a <code>TaskCompletionSource</code> object to manage async behaviour and communicate task status to the caller.</li>
</ol>
<pre><code class="language-csharp"><div><span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.Modal</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BaseModalDialog</span> : <span class="hljs-title">ComponentBase</span>, <span class="hljs-title">IModalDialog</span>
    {
        [<span class="hljs-meta">Inject</span>] <span class="hljs-keyword">private</span> IJSRuntime _js { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">public</span> ModalOptions Options { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">protected</span> <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> ModalOptions();

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Display { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">protected</span> <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsLocked { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">protected</span> <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">protected</span> RenderFragment _Content { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> Width =&gt; <span class="hljs-keyword">this</span>.Options.TryGet&lt;<span class="hljs-keyword">string</span>&gt;(ModalOptions.__Width, <span class="hljs-keyword">out</span> <span class="hljs-keyword">string</span> <span class="hljs-keyword">value</span>) ? <span class="hljs-string">$&quot;width:<span class="hljs-subst">{<span class="hljs-keyword">value</span>}</span>&quot;</span> : <span class="hljs-keyword">string</span>.Empty;

        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">bool</span> ExitOnBackGroundClick =&gt; <span class="hljs-keyword">this</span>.Options.TryGet&lt;<span class="hljs-keyword">bool</span>&gt;(ModalOptions.__ExitOnBackGroundClick, <span class="hljs-keyword">out</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">value</span>) ? <span class="hljs-keyword">value</span> : <span class="hljs-literal">false</span>;

        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-title">TaskCompletionSource</span>&lt;<span class="hljs-title">ModalResult</span>&gt; _ModalTask</span> { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;ModalResult&gt;();

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Task</span>&lt;<span class="hljs-title">ModalResult</span>&gt; <span class="hljs-title">ShowAsync</span>&lt;<span class="hljs-title">TModal</span>&gt;(<span class="hljs-params">ModalOptions options</span>) <span class="hljs-keyword">where</span> TModal : IComponent</span>
        {
            <span class="hljs-keyword">this</span>.Options = options ??= <span class="hljs-keyword">this</span>.Options;
            <span class="hljs-keyword">this</span>._ModalTask = <span class="hljs-keyword">new</span> TaskCompletionSource&lt;ModalResult&gt;();
            <span class="hljs-keyword">this</span>._Content = <span class="hljs-keyword">new</span> RenderFragment(builder =&gt;
            {
                builder.OpenComponent(<span class="hljs-number">1</span>, <span class="hljs-keyword">typeof</span>(TModal));
                builder.CloseComponent();
            });
            <span class="hljs-keyword">this</span>.Display = <span class="hljs-literal">true</span>;
            InvokeAsync(StateHasChanged);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._ModalTask.Task;
        }

        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> Method to update the state of the display based on UIOptions</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;options&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params">ModalOptions options = <span class="hljs-literal">null</span></span>)</span>
        {
            <span class="hljs-keyword">this</span>.Options = options ??= <span class="hljs-keyword">this</span>.Options;
            InvokeAsync(StateHasChanged);
        }

        <span class="hljs-comment"><span class="hljs-doctag">///</span> Method called by the dismiss button to close the dialog</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> sets the task to complete, show to false and renders the component (which hides it as show is false!)</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Dismiss</span>(<span class="hljs-params"></span>)</span>
        {
            _ = <span class="hljs-keyword">this</span>._ModalTask.TrySetResult(ModalResult.Cancel());
            <span class="hljs-keyword">this</span>.Display = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">this</span>._Content = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">await</span> InvokeAsync(StateHasChanged);
        }

        <span class="hljs-comment"><span class="hljs-doctag">///</span> Method called by child components through the cascade value of this component</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> sets the task to complete, show to false and renders the component (which hides it as show is false!)</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Close</span>(<span class="hljs-params">ModalResult result</span>)</span>
        {
            _ = <span class="hljs-keyword">this</span>._ModalTask.TrySetResult(result);
            <span class="hljs-keyword">this</span>.Display = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">this</span>._Content = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">await</span> InvokeAsync(StateHasChanged);
        }

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetPageExitCheck</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> action</span>)</span>
        {
            _js.InvokeAsync&lt;<span class="hljs-keyword">bool</span>&gt;(<span class="hljs-string">&quot;cecblazor_setEditorExitCheck&quot;</span>, action);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Lock</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> setlock</span>)</span>
        {
            <span class="hljs-keyword">if</span> (setlock &amp;&amp; !<span class="hljs-keyword">this</span>.IsLocked)
            {
                <span class="hljs-keyword">this</span>.IsLocked = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>.SetPageExitCheck(<span class="hljs-literal">true</span>);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsLocked &amp;&amp; !setlock)
            {
                <span class="hljs-keyword">this</span>.IsLocked = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">this</span>.SetPageExitCheck(<span class="hljs-literal">false</span>);
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnBackClick</span>(<span class="hljs-params">MouseEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (ExitOnBackGroundClick &amp;&amp; !IsLocked)
                <span class="hljs-keyword">this</span>.Close(ModalResult.Exit());
        }
    }
}
</div></code></pre>
<p>Next we add some component Css as <em>BasModalDialog.razor.css</em>.</p>
<pre><code class="language-css"><div><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.base-modal-background</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>; <span class="hljs-comment">/* Sit on top */</span>
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* Full width */</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* Full height */</span>
    <span class="hljs-attribute">overflow</span>: auto; <span class="hljs-comment">/* Enable scroll if needed */</span>
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>); <span class="hljs-comment">/* Fallback color */</span>
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.4</span>); <span class="hljs-comment">/* Black w/ opacity */</span>
}

<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.base-modal-content</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fefefe</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10%</span> auto;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#888</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">90%</span>;
}
</div></code></pre>
<p>Finally we need to set up some JsInterop to handle browser exit locking.  Add a <em>site.js</em> file to <em>wwwroot</em></p>
<pre><code class="language-js"><div><span class="hljs-built_in">window</span>.cecblazor_setEditorExitCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">show</span>) </span>{
    <span class="hljs-keyword">if</span> (show) {
        <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;beforeunload&quot;</span>, cecblazor_showExitDialog);
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string">&quot;beforeunload&quot;</span>, cecblazor_showExitDialog);
    }
}

<span class="hljs-built_in">window</span>.cecblazor_showExitDialog = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
    event.preventDefault();
    event.returnValue = <span class="hljs-string">&quot;There are unsaved changes on this page.  Do you want to leave?&quot;</span>;
}
</div></code></pre>
<p>And add a reference to the SPA startup page - _Host.cshtml or index.html:</p>
<pre><code class="language-html"><div>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/site.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</div></code></pre>
<h2 id="implementing-modals">Implementing Modals</h2>
<p>We will demonstrate using the modal dialog with two examples:</p>
<ol>
<li>Displaying the FetchData page in a modal dialog.</li>
<li>A Pseudo editor page</li>
</ol>
<h3 id="inital-setup">Inital Setup</h3>
<ol>
<li>Start with a standard Blazor Server template site.</li>
<li>Set up the five classes/interfaces/emuns above.</li>
<li>Add the <code>Blazr.Dialog</code> namespace to <code>_Imports.razor</code>.</li>
</ol>
<h3 id="modify-fetchdata">Modify FetchData</h3>
<pre><code class="language-html"><div>@page &quot;/fetchdata&quot;

.....

    @if (this.isDialog)
    {
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-right&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-dark&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;Exit&quot;</span>&gt;</span>Exit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    }
}
</div></code></pre>
<pre><code class="language-csharp"><div>@code {

    [<span class="hljs-meta">CascadingParameter</span>] IModalDialog Dialog { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> isDialog =&gt; Dialog <span class="hljs-keyword">is</span> not <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">private</span> List&lt;WeatherForecast&gt; forecasts;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Exit</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">this</span>.Dialog.Dismiss();
    }
    .....
}
</div></code></pre>
<h3 id="modify-indexrazor">Modify Index.razor</h3>
<pre><code class="language-html"><div>@page &quot;/&quot;

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;ShowModal&quot;</span>&gt;</span>Show FetchData<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">BaseModalDialog</span> @<span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;Dialog&quot;</span> /&gt;</span>
</div></code></pre>
<pre><code class="language-csharp"><div>@code {
    <span class="hljs-keyword">public</span> IModalDialog Dialog { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowModal</span>(<span class="hljs-params"></span>)</span>
        =&gt; Dialog.ShowAsync&lt;FetchData&gt;( <span class="hljs-keyword">new</span> Blazr.Modal.ModalOptions());
}
</div></code></pre>
<h3 id="form-using-bootstrapmodal">Form using BootstrapModal</h3>
<p>This demonstrates using an edit form in a dialog.</p>
<p>First the component - <em>PseudoEditor.Razor</em></p>
<p>Use the &quot;Set To Dirty&quot; button to emulate making edits in the form.</p>
<pre><code class="language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>PseudoEditor<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> DATA<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-2 m-2 text-right&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn @this._editButtonColour&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;this.SetToEdit&quot;</span>&gt;</span>@this._editButtonText<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;@(!this._isDirty)&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-success&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;this.Save&quot;</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;@(this._isDirty)&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-dark&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;this.Close&quot;</span>&gt;</span>Close<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

@code {
    [CascadingParameter]
    public IModalDialog Modal { get; set; }

    private bool _isModal =&gt; this.Modal != null;

    private bool _isDirty;

    private string _editButtonColour =&gt; _isDirty ? &quot;btn-danger&quot; : &quot;btn-success&quot;;

    private string _editButtonText =&gt; _isDirty ? &quot;Set To Clean&quot; : &quot;Set To Dirty&quot;;

    private void SetToEdit()
    {
        _isDirty = !_isDirty;
        if (_isModal)
            this.Modal.Lock(_isDirty);
    }

    private void Save(MouseEventArgs e)
    {
        this.Modal.Close(ModalResult.OK());
    }

    public void Close(MouseEventArgs e)
    {
        this.Modal.Close(ModalResult.OK());
    }
}
</div></code></pre>
<p>The test page:</p>
<pre><code class="language-html"><div>@page &quot;/modal&quot;

<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;GetYesNo&quot;</span>&gt;</span>Open<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">BaseModalDialog</span> @<span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;this.Modal&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">BaseModalDialog</span>&gt;</span>
@code
{
    private BaseModalDialog Modal { get; set; }

    private void GetYesNo(MouseEventArgs e)
    {
        var options = new ModalOptions();
        options.Set(ModalOptions.__ExitOnBackGroundClick, true);
        Modal.ShowAsync<span class="hljs-tag">&lt;<span class="hljs-name">PseudoEditor</span>&gt;</span>(options);
    }
}
</div></code></pre>
<h2 id="wrap-up">Wrap Up</h2>
<p>Modal dialogs are just CSS.  You implement them using layers.  The modal background is a full browser sized layer that covers and &quot;hides&quot; everything below it.  The modal content sits on top, and is the only &quot;live&quot; content.</p>
<p>If your looking for a more complex Modal Dialog with more features, take a look at <a href="https://github.com/Blazored/Modal">Blazored Modal Dialog</a>.</p>

    

            </div>
        </div>
    </div>
</div>
<!-- end of Article Container -->


                </div>
                <!-- End of Main Content -->
            </div>
            <!-- Footer -->
            
<!-- Copyright -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            
<span>Copyright &copy; Cold Elm Coders - 2022</span>

        </div>
    </div>
</footer>
<!-- end of copyright -->


            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->
        
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


    </div>
    <!-- End of Page Wrapper -->
    <!-- Scripts -->
    
<!-- Scripts -->
<!-- Bootstrap core JavaScript-->
<script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="/assets/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="/assets/js/sb-admin-2.min.js"></script>


</body>
</html>
