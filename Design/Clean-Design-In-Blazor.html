<!DOCTYPE html>
<html lang="en">
<head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="Your description">
<meta name="author" content="Your name">

<!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
<meta property="og:site_name" content="" /> <!-- website name -->
<meta property="og:site" content="" /> <!-- website link -->
<meta property="og:title" content="" /> <!-- title shown in the actual shared post -->
<meta property="og:description" content="" /> <!-- description shown in the actual shared post -->
<meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
<meta property="og:url" content="" /> <!-- where do you want your post to link to -->
<meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta name="description" content="An article about implementing Clean design principles in Blazor Applications." >
<meta name="author" content="Shaun Curtis" >



<title>Clean Design Principles in Blazor Applications</title>


<!-- Custom fonts for this template-->
<link href="/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet">

<!-- Custom styles for this template-->
<link href="/assets/css/sb-admin-2.css" rel="stylesheet" type="text/css">
<link href="/assets/css/site.css" rel="stylesheet" type="text/css">

<!-- Favicon  -->
<link rel="icon" href="/assets/images/favicon.png">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
    <link rel="stylesheet" href="/assets/css/article.css" type="text/css">
</head>
<body id="page-top">
    <!--topbar-->
    <div id="topbar">
        
<!-- Topbar -->
<nav class="navbar navbar-expand navbar-light topbar mb-4 static-top">
    
<ul class="navbar-nav" >
<li class="nav-item" >
<a class="nav-link " href="/index.html" role="button"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Index</span>
</a>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="d67af9dd-785f-42c3-af85-f455b60d9a3d" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Articles</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="d67af9dd-785f-42c3-af85-f455b60d9a3d" >
<a class="dropdown-item" href="/articles/A-Flexible-App.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Creating a Dynamic Blazor App Component
</a>
<a class="dropdown-item" href="/articles/Async-Programming-in-DotNetCore.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Async Programming In Dotnetcore
</a>
<a class="dropdown-item" href="/articles/Blazor-AllinOne.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor All In One - Multi SPA Hosting
</a>
<a class="dropdown-item" href="/articles/Blazor-Async-Programming.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async Programming
</a>
<a class="dropdown-item" href="/articles/Blazor-Components.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Components
</a>
<a class="dropdown-item" href="/articles/Blazor-CSS.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor CSS
</a>
<a class="dropdown-item" href="/articles/Blazor-DataList-Control.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Datalist Control
</a>
<a class="dropdown-item" href="/articles/Blazor-Form-Validation.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Form Validation
</a>
<a class="dropdown-item" href="/articles/BlazorAsyncProgramming.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazorasyncprogramming
</a>
<a class="dropdown-item" href="/articles/Building-Edit-Forms.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building Edit Forms
</a>
<a class="dropdown-item" href="/articles/EditFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor EditFormState Control
</a>
<a class="dropdown-item" href="/articles/Hydra.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Hydra
</a>
<a class="dropdown-item" href="/articles/Inline-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor Inline Dialog Control
</a>
<a class="dropdown-item" href="/articles/Modal-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Modal Dialog
</a>
<a class="dropdown-item" href="/articles/ValidationFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Validation Control
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="381ee25c-78c2-4394-bad1-5eb2b01a41e1" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Blazor Database Apps</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="381ee25c-78c2-4394-bad1-5eb2b01a41e1" >
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-1.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 1
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-2.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 2
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-3.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 3
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-4.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 4
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-5.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 5
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-6.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 6
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/index.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building a Database Application in Blazor
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="6190fa06-4d39-4c7f-9e23-b4b700ddd2a2" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Design</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="6190fa06-4d39-4c7f-9e23-b4b700ddd2a2" >
<a class="dropdown-item" href="/Design/Clean-Design-In-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Clean Design Principles in Blazor Applications
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="40312277-2927-4342-b00e-59a8b4f2d3e3" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Modern C#</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="40312277-2927-4342-b00e-59a8b4f2d3e3" >
<a class="dropdown-item" href="/Modern-Coding-Patterns/Nullable-And-VS-2022.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Nullable And VS 2022
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="dc0afaa6-9943-419f-9bc3-3f562814e6ba" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Posts</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="dc0afaa6-9943-419f-9bc3-3f562814e6ba" >
<a class="dropdown-item" href="/posts/Blazor-Async-UI-Events.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async UI Events
</a>
<a class="dropdown-item" href="/posts/DBContexts-In-Transient-Services.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Dbcontexts In Transient Services
</a>
<a class="dropdown-item" href="/posts/DynamicCss.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Dynamic Stylesheets
</a>
<a class="dropdown-item" href="/posts/For-ForEach-in-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
For Foreach In Blazor
</a>
<a class="dropdown-item" href="/posts/Notification-Service-Pattern.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Notification Service Pattern
</a>
<a class="dropdown-item" href="/posts/XML-XSD-Serialization.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
XML XSD Serialization
</a>
</div>
</li>
</ul>

    <div class="ms-5 me-5 ml-auto">
        <h1>Cold Elm Coders</h1>
    </div>
</nav>


    </div>
    <!--End topbar-->
    <!--Sidebar-->
    <div id="sidebar">
        
<div class="article-info p-2" Published: 25-11-2021 >
<div>Published: 25-11-2021</div>
<div>Last Updated: 25-11-2021</div>
<div>Author: Shaun Curtis</div>
</div>

        
<h4 class="p-2">Table of Contents</h4>
<ul class="TOC" >
<li class="TOC-item TOC-item-0" >
<a class="TOC-link" href="#">Top</a>
<ul class="TOC TOC-0" >
<li class="TOC-item TOC-item-1" >
<ul class="TOC TOC-1" >
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#the-templatesolution">The Template/Solution</a>
<ul class="TOC TOC-2" >
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#solution-projects">Solution Projects</a>
</li>
</ul>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#project-dependancies">Project Dependancies</a>
<ul class="TOC TOC-2" >
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#server-spaweb-dependancies">Server SPA/Web Dependancies</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#wasm-spaweb-dependancies">WASM SPA/Web Dependancies</a>
</li>
</ul>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#key-design-points">Key Design Points:</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#running-the-spas">Running the SPA's</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#using-the-template">Using the Template</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
    <!--End Sidebar-->
    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <div id="article">
                    <!-- Article -->
                    
<!-- Header -->
<header class="ex-header-article">
    <div class="container">
        <div class="row pt-3 pb-3 border-bottom">
            <div class="col">
                
<h1>Clean Design Principles in Blazor Applications</h1>
<div>An article about implementing Clean design principles in Blazor Applications.</div>

            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</header> <!-- end of ex-header -->
<!-- end of header -->


                    
<!-- Article Container -->
<div class="ex-basic-1 pt-4">
    <div class="container">
        <div class="row">
            <div class="col-12">
                

        <p>Large, well organised software projects normally apply a strict set of design principles.  Smaller teams less so.</p>
<p>This short article descibes an basic architecture that many individuals and organisations have come to independantly.  It goes by many names, and has many variations, but the principles remain the saame.  The two names I use here are <em>Clean</em> and <em>Sound</em>.</p>
<p>This article provdes a short overview of the architecture - it's pretty simple - and then applies the architecture to build a new Blazor Template based on the out-of-the-box templates.</p>
<p>We'll use the Blazr.Demo solution to discuss the architecture implementation in practice.</p>
<p>The key design goals are:</p>
<ol>
<li>Enforced Separation of Concerns</li>
<li>Abstraction of Dependancies</li>
</ol>
<p>Any application can broadly be separated into three <em>Domains</em>:</p>
<ol>
<li><strong>The Data Domain</strong> - getting data from and too data stores, be they file systems, SQL databases or API's.</li>
<li><strong>The Core domain</strong> - the core business logic of the application. What turns the raw data from the Data Domain into useful information that can be presented in the UI Domain.</li>
<li><strong>The UI Domain</strong> - displaying and handling data input.</li>
</ol>
<p>The diagram below illustrates these domains and the dependancies.</p>
<p><img src="\Design\assets\Domain-Model.png" alt="Design Architecture"></p>
<p>The core principles of the architecture are:</p>
<ol>
<li>The Core Domain has no dependancies on other domains within the project.  You can have your own libraries, but these should also adher to the same design principles.</li>
<li>The Data and UI domains have a dependancy on the Core Domain, but not on each other.</li>
</ol>
<p>Application of this architecture means you can change out the UI or the data store with no impact on the Core Domain Code.</p>
<h2 id="the-templatesolution">The Template/Solution</h2>
<p>The template and solution are available on GitHub:</p>
<ul>
<li><a href="https://github.com/ShaunCurtis/Blazr.Demo">Blazr.Demo</a></li>
<li><a href="https://github.com/ShaunCurtis/Blazr.Template">Blazor.Template</a></li>
</ul>
<p>The solution splits the application codebase into three main code domains:</p>
<ol>
<li><strong>Data Domain</strong> - all code relating to data management.</li>
<li><strong>Core domain</strong> - this is the core application code the business and logical layers of an application.  It has no dependancies on other solution projects.</li>
<li><strong>UI Domain</strong> - this contains all the UI component code.</li>
</ol>
<p>And two support <strong>Domains</strong>:</p>
<ol>
<li><strong>Controller Domain</strong> - the API controller code.  This is strictly not Blazor Code.  It's standard server side DotNetCore.</li>
<li><strong>Config Domain</strong> - contains configuration data for the solution and the Web projects.</li>
</ol>
<h3 id="solution-projects">Solution Projects</h3>
<p>Within the project this translates into the following projects:</p>
<ol>
<li><strong>.Core</strong> - <em>Microsoft.NET.Sdk</em> SDK - Contains all the Core Domain code.  No internal project dependancies.</li>
<li><strong>.Data</strong> - <em>Microsoft.NET.Sdk</em> SDK - Contains all the Data Domain code.  Only dependancy is on <em>.Core</em>.</li>
<li><strong>.UI</strong> - <em>Microsoft.NET.Sdk.Razor</em> SDK - contains all the UI component code.  Only Dependancy is on <em>.Core</em>.</li>
<li><strong>.Config</strong> - <em>Microsoft.NET.Sdk.Razor</em> SDK - contains the application xconfiguration code and the <code>IServiceCollection</code> extension methods.   Dependancies are <em>.Core</em> and <em>.Data</em>.</li>
<li><strong>.Controller</strong> - <em>Microsoft.NET.Sdk</em> SDK - contains the API controllers. Normal Dependancy is <em>.Core</em>.  Should interface with the data domain through the same interfaces as used by the core.</li>
<li><strong>.Server.Web</strong> - <em><a href="http://Microsoft.NET.Sdk.Web">Microsoft.NET.Sdk.Web</a></em> SDK - The Web Server project to run the Server SPA.</li>
<li><strong>.WASM</strong> - <em>Microsoft.NET.Sdk.BlazorWebAssembly</em> SDK - the project to build and bundle the WASM codebase.</li>
<li><strong>.WASM.Web</strong> - <em><a href="http://Microsoft.NET.Sdk.Web">Microsoft.NET.Sdk.Web</a></em> SDK - The Web Server project to host the WASM SPA and run the WASM API Controllers.</li>
<li><strong>.Tests</strong> - <em>Microsoft.NET.Sdk</em> SDK - The XUnit/BUnit test project.</li>
</ol>
<h2 id="project-dependancies">Project Dependancies</h2>
<h3 id="server-spaweb-dependancies">Server SPA/Web Dependancies</h3>
<p><img src="\Design\assets\Blazr.Demo.Server.Web-Project-Structure.png" alt="Server Dependancies"></p>
<h3 id="wasm-spaweb-dependancies">WASM SPA/Web Dependancies</h3>
<p><img src="\Design\assets\Blazr.Demo.WASM.Web-Project-Structure.png" alt="WASM Dependancies"></p>
<h2 id="key-design-points">Key Design Points:</h2>
<ol>
<li>The core application code is separated from the Data Source and UI.  The UI or the Data Source can be changed out without impacting on the application code.</li>
<li>The core to data domain interface is through <code>interfaces</code>.  This design uses Data Brokers as <em>thin</em> pass through layers to implement the interfaces.</li>
<li>Using projects for each domain allows good dependancy control.  Namespaces within a project are too easy to breach and more difficult to control and detect.</li>
<li>All the Blazor specific code is shared.  It's the same for the WASM and Server SPAs.  The only differencies in this solution are the service configurations for the Data Brokers.</li>
</ol>
<h2 id="running-the-spas">Running the SPA's</h2>
<p>To run the SPA's set the following as the solutiuon startup project:</p>
<ol>
<li><strong>Server SPA</strong> - *<em>.Server.Web</em></li>
<li><strong>WASM SPA</strong> - *<em>.WASM.Web</em></li>
</ol>
<h2 id="using-the-template">Using the Template</h2>
<p>You can install the template in Visual Studio by copying <em>Blazr.Demo.zip</em> to your <em>Project Templates</em> folder - normally in <em>Documents/Visual Studio 2022/Templates/Project Templates</em>.</p>

    

            </div>
        </div>
    </div>
</div>
<!-- end of Article Container -->


                </div>
                <!-- End of Main Content -->
            </div>
            <!-- Footer -->
            
<!-- Copyright -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            
<span>Copyright &copy; Cold Elm Coders - 2021</span>

        </div>
    </div>
</footer>
<!-- end of copyright -->


            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->
        
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


    </div>
    <!-- End of Page Wrapper -->
    <!-- Scripts -->
    
<!-- Scripts -->
<!-- Bootstrap core JavaScript-->
<script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="/assets/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="/assets/js/sb-admin-2.min.js"></script>


</body>
</html>
