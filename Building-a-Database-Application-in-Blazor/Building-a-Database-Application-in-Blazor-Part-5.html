<!DOCTYPE html>
<html lang="en">
<head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="Your description">
<meta name="author" content="Your name">

<!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
<meta property="og:site_name" content="" /> <!-- website name -->
<meta property="og:site" content="" /> <!-- website link -->
<meta property="og:title" content="" /> <!-- title shown in the actual shared post -->
<meta property="og:description" content="" /> <!-- description shown in the actual shared post -->
<meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
<meta property="og:url" content="" /> <!-- where do you want your post to link to -->
<meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta name="description" content="This article looks in detail at building reusable List Presentation Layer components and deploying them in both Server and WASM projects." >
<meta name="author" content="Shaun Curtis" >



<title>Part 5 - A Blazor Database Template - View Components - CRUD List Operations in the UI</title>


<!-- Custom fonts for this template-->
<link href="/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet">

<!-- Custom styles for this template-->
<link href="/assets/css/sb-admin-2.css" rel="stylesheet" type="text/css">
<link href="/assets/css/site.css" rel="stylesheet" type="text/css">

<!-- Favicon  -->
<link rel="icon" href="/assets/images/favicon.png">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
    <link rel="stylesheet" href="/assets/css/article.css" type="text/css">
</head>
<body id="page-top">
    <!--topbar-->
    <div id="topbar">
        
<!-- Topbar -->
<nav class="navbar navbar-expand navbar-light topbar mb-4 static-top">
    
<ul class="navbar-nav" >
<li class="nav-item" >
<a class="nav-link " href="/index.html" role="button"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Index</span>
</a>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="a3419a7d-e0b3-4476-8b0e-8107d7031e05" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Articles</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="a3419a7d-e0b3-4476-8b0e-8107d7031e05" >
<a class="dropdown-item" href="/articles/A-Flexible-App.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Creating a Dynamic Blazor App Component
</a>
<a class="dropdown-item" href="/articles/Async-Programming-in-DotNetCore.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Async Programming In Dotnetcore
</a>
<a class="dropdown-item" href="/articles/Blazor-AllinOne.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor All In One - Multi SPA Hosting
</a>
<a class="dropdown-item" href="/articles/Blazor-Async-Programming.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async Programming
</a>
<a class="dropdown-item" href="/articles/Blazor-Components.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Components
</a>
<a class="dropdown-item" href="/articles/Blazor-CSS.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor CSS
</a>
<a class="dropdown-item" href="/articles/Blazor-DataList-Control.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Datalist Control
</a>
<a class="dropdown-item" href="/articles/Blazor-Form-Validation.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Form Validation
</a>
<a class="dropdown-item" href="/articles/BlazorAsyncProgramming.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazorasyncprogramming
</a>
<a class="dropdown-item" href="/articles/Building-Edit-Forms.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building Edit Forms
</a>
<a class="dropdown-item" href="/articles/EditFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor EditFormState Control
</a>
<a class="dropdown-item" href="/articles/Hydra.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Hydra
</a>
<a class="dropdown-item" href="/articles/Inline-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The Blazor Inline Dialog Control
</a>
<a class="dropdown-item" href="/articles/Modal-Dialog.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Modal Dialog
</a>
<a class="dropdown-item" href="/articles/ValidationFormState.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Validation Control
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="0320da74-a8eb-407e-83b1-22bbdc987191" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Blazor Database Apps</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="0320da74-a8eb-407e-83b1-22bbdc987191" >
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-1.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 1
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-2.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 2
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-3.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 3
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-4.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 4
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-5.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 5
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/Building-a-Database-Application-in-Blazor-Part-6.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building A Database Application In Blazor Part 6
</a>
<a class="dropdown-item" href="/Building-a-Database-Application-in-Blazor/index.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Building a Database Application in Blazor
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="59da6ff4-815f-4554-b22f-c20abd531f94" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Design</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="59da6ff4-815f-4554-b22f-c20abd531f94" >
<a class="dropdown-item" href="/Design/Clean-Design-In-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Clean Design Principles in Blazor Applications
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
A Blazor Clean Design Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Solution-Structure.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Solution Structure in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-DataServices.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Data Services in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-UI.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
The UI in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Solution-Setup.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Solution Setup in the Clean Design Blazor Template
</a>
<a class="dropdown-item" href="/Design/Clean-Design-Blazor-Template-Testing.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Testing in the Clean Design Blazor Template
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="998c1546-cae2-437b-9062-4dc57eda3221" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Modern C#</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="998c1546-cae2-437b-9062-4dc57eda3221" >
<a class="dropdown-item" href="/Modern-Coding-Patterns/Nullable-And-VS-2022.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Nullable And VS 2022
</a>
</div>
</li>
<li class="nav-item dropdown no-arrow mx-1" >
<a class="nav-link dropdown-toggle" href="#" id="062d9ebb-ef67-4900-a25c-9a5eb806b63c" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"  >
<span class="mr-2 d-none d-lg-inline text-gray-100">Posts</span>
</a>
<div class=" dropdown-list dropdown-menu shadow animated--grow-in" aria-labelledby="062d9ebb-ef67-4900-a25c-9a5eb806b63c" >
<a class="dropdown-item" href="/posts/Blazor-Async-UI-Events.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Async UI Events
</a>
<a class="dropdown-item" href="/posts/DBContexts-In-Transient-Services.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Dbcontexts In Transient Services
</a>
<a class="dropdown-item" href="/posts/DynamicCss.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Blazor Dynamic Stylesheets
</a>
<a class="dropdown-item" href="/posts/For-ForEach-in-Blazor.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
For Foreach In Blazor
</a>
<a class="dropdown-item" href="/posts/Notification-Service-Pattern.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
Notification Service Pattern
</a>
<a class="dropdown-item" href="/posts/XML-XSD-Serialization.html" >
<i class="fas fa-file-alt fa-sm fa-fw mr-2 text-gray-600"></i>
XML XSD Serialization
</a>
</div>
</li>
</ul>

    <div class="ms-5 me-5 ml-auto">
        <h1>Cold Elm Coders</h1>
    </div>
</nav>


    </div>
    <!--End topbar-->
    <!--Sidebar-->
    <div id="sidebar">
        
<div class="article-info p-2" Published: 15-09-2020 >
<div>Published: 15-09-2020</div>
<div>Last Updated: 04-07-2021</div>
<div>Author: Shaun Curtis</div>
</div>

        
<h4 class="p-2">Table of Contents</h4>
<ul class="TOC" >
<li class="TOC-item TOC-item-0" >
<a class="TOC-link" href="#">Top</a>
<ul class="TOC TOC-0" >
<li class="TOC-item TOC-item-1" >
<ul class="TOC TOC-1" >
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#introduction">Introduction</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#repository-and-database">Repository and Database</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#list-functionality">List Functionality</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#the-base-forms">The Base Forms</a>
<ul class="TOC TOC-2" >
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#paging-and-sorting">Paging and Sorting</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#weather-forecast-list-forms">Weather Forecast List Forms</a>
</li>
<li class="TOC-item TOC-item-3" >
<a class="TOC-link" href="#the-views">The Views</a>
</li>
</ul>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#wrap-up">Wrap Up</a>
</li>
<li class="TOC-item TOC-item-2" >
<a class="TOC-link" href="#history">History</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
    <!--End Sidebar-->
    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <div id="article">
                    <!-- Article -->
                    
<!-- Header -->
<header class="ex-header-article">
    <div class="container">
        <div class="row pt-3 pb-3 border-bottom">
            <div class="col">
                
<h1>Part 5 - A Blazor Database Template - View Components - CRUD List Operations in the UI</h1>
<div>This article looks in detail at building reusable List Presentation Layer components and deploying them in both Server and WASM projects.</div>

            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</header> <!-- end of ex-header -->
<!-- end of header -->


                    
<!-- Article Container -->
<div class="ex-basic-1 pt-4">
    <div class="container">
        <div class="row">
            <div class="col-12">
                

        <div class="alert alert-warning">These articles are currently being updated.  Most of the text and code is correct, but...</div>
<h2 id="introduction">Introduction</h2>
<p>This article is the fifth in a series on Building Blazor Database Applications. The articles so far are:</p>
<ol>
<li>Project Structure and Framework.</li>
<li>Services - Building the CRUD Data Layers.</li>
<li>View Components - CRUD Edit and View Operations in the UI.</li>
<li>UI Components - Building HTML/CSS Controls.</li>
<li>View Components - CRUD List Operations in the UI.</li>
</ol>
<p>This article looks in detail at building reusable List UI components and deploying them in both Server and WASM projects.</p>
<h2 id="repository-and-database">Repository and Database</h2>
<p>The repository for the articles has moved to <a href="https://github.com/ShaunCurtis/Blazor.Database">Blazor.Database Repository</a>.  All previous repos are obselete and will be removed shortly.</p>
<p>There's a SQL script in /SQL in the repository for building the database.</p>
<p>The demo site has changed now the Server and WASM have been combined.  The site starts in Server mode - <a href="https://cec-blazor-database.azurewebsites.net/">https://cec-blazor-database.azurewebsites.net/</a>.</p>
<h2 id="list-functionality">List Functionality</h2>
<p>List components present more challenges than other CRUD components.  Functionality expected in a production level list control includes:</p>
<ul>
<li>Paging -  to handle large data sets</li>
<li>Column formatting - to control column width and data overflow</li>
<li>Sorting - on columns</li>
<li>Filtering - not covered here.</li>
</ul>
<h2 id="the-base-forms">The Base Forms</h2>
<p><code>ListFormBase</code> is the base abstract form for all lists. It inherits from <code>ComponentBase</code>, and contains all the boilerplate code.  <code>TRecord</code> is the dataclass it operates on.  The form uses the</p>
<p>The code is shown below</p>
<pre><code class="language-csharp"><div><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ListFormBase</span>&lt;<span class="hljs-title">TRecord</span>&gt; : <span class="hljs-title">ComponentBase</span>, <span class="hljs-title">IDisposable</span>
    <span class="hljs-keyword">where</span> <span class="hljs-title">TRecord</span> : <span class="hljs-keyword">class</span>, <span class="hljs-title">IDbRecord</span>&lt;<span class="hljs-title">TRecord</span>&gt;, <span class="hljs-title">new</span>()
{
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> EventCallback&lt;Guid&gt; EditRecord { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> EventCallback&lt;Guid&gt; ViewRecord { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> EventCallback&lt;Guid&gt; NewRecord { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> EventCallback ExitAction { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    [<span class="hljs-meta">Inject</span>] <span class="hljs-keyword">protected</span> NavigationManager NavManager { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Inject</span>] <span class="hljs-keyword">protected</span> EditStateService EditStateService { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">protected</span> IModelViewService&lt;TRecord&gt; Service { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">bool</span> IsLoaded =&gt; <span class="hljs-keyword">this</span>.Service?.HasRecords ?? <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">protected</span> ComponentState LoadState =&gt; IsLoaded ? ComponentState.Loaded : ComponentState.Loading;
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">bool</span> HasService =&gt; <span class="hljs-keyword">this</span>.Service != <span class="hljs-literal">null</span>;
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">OnInitializedAsync</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">if</span> (HasService)
        {
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.Service.GetRecordsAsync();
            <span class="hljs-keyword">this</span>.Service.ListHasChanged += OnListChanged;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnAfterRender</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> firstRender</span>)</span>
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.EditStateService.IsDirty)
            <span class="hljs-keyword">this</span>.Edit((Guid)<span class="hljs-keyword">this</span>.EditStateService.RecordID);
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnListChanged</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.InvokeAsync(<span class="hljs-keyword">this</span>.StateHasChanged);

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Edit</span>(<span class="hljs-params">Guid id</span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.EditRecord.InvokeAsync(id);

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">View</span>(<span class="hljs-params">Guid id</span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.ViewRecord.InvokeAsync(id);

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">New</span>(<span class="hljs-params"></span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.NewRecord.InvokeAsync();

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Exit</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">if</span> (ExitAction.HasDelegate)
            ExitAction.InvokeAsync();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.NavManager.NavigateTo(<span class="hljs-string">&quot;/&quot;</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Dispose</span>(<span class="hljs-params"></span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.Service.ListHasChanged -= OnListChanged;

}
</div></code></pre>
<h3 id="paging-and-sorting">Paging and Sorting</h3>
<p>Paging and sorting is implemented by a <code>RecordPager</code> class that is part of the ViewService.  <code>DataPagingControl</code> and <code>SortControl</code> are UI components that interact with the <code>RecordPager</code>.</p>
<p>You can see <code>DataPagingControl</code> in use in a list form - here in the left side of a button row at the bottom of the form</p>
<pre><code class="language-csharp"><div>&lt;UIContainer&gt;
    &lt;UIFormRow&gt;
        &lt;UIColumn Cols=<span class="hljs-string">&quot;8&quot;</span>&gt;
            &lt;DataPagingControl RecordPager=<span class="hljs-string">&quot;this.ViewService.RecordPager&quot;</span>&gt;&lt;/DataPagingControl&gt;
        &lt;/UIColumn&gt;
        &lt;UIButtonColumn Cols=<span class="hljs-string">&quot;4&quot;</span>&gt;
            &lt;UIButton type=<span class="hljs-string">&quot;button&quot;</span> Show=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;btn-success&quot;</span> ClickEvent=<span class="hljs-string">&quot;() =&gt; this.New()&quot;</span>&gt;New Record&lt;/UIButton&gt;
            &lt;UIButton type=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;btn-secondary&quot;</span> ClickEvent=<span class="hljs-string">&quot;this.Exit&quot;</span>&gt;Exit&lt;/UIButton&gt;
        &lt;/UIButtonColumn&gt;
    &lt;/UIFormRow&gt;
&lt;/UIContainer&gt;
</div></code></pre>
<p>And <code>SortControl</code> in action in the header row of a list form.</p>
<pre><code class="language-csharp"><div>&lt;head&gt;
    &lt;SortControl RecordPager=<span class="hljs-string">&quot;this.Service.RecordPager&quot;</span>&gt;
        &lt;UIDataTableHeaderColumn SortField=<span class="hljs-string">&quot;ID&quot;</span>&gt;ID&lt;/UIDataTableHeaderColumn&gt;
        &lt;UIDataTableHeaderColumn SortField=<span class="hljs-string">&quot;Date&quot;</span>&gt;Date&lt;/UIDataTableHeaderColumn&gt;
        ...
    &lt;/SortControl&gt;
&lt;/head&gt;
</div></code></pre>
<h4 id="recordpager">RecordPager</h4>
<p>The code is self explanatory, providing the functionality for paging operations.  The imnportant concept to understand is that internally page and block positions are tracked on zero based indexes, while what gets displayed is one based.  Page 0 internally is displayed as 1 to the user.</p>
<pre><code class="language-csharp"><div>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RecordPager</span>
    {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> DisplayPage =&gt; <span class="hljs-keyword">this</span>.Page + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> DisplayLastPage =&gt; <span class="hljs-keyword">this</span>.LastPage + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> DisplayLastBlock =&gt; <span class="hljs-keyword">this</span>.LastBlock + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> DisplayStartBlockPage =&gt; <span class="hljs-keyword">this</span>.StartBlockPage + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> DisplayEndBlockPage =&gt; <span class="hljs-keyword">this</span>.EndBlockPage + <span class="hljs-number">1</span>;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Enabled { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Page { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> RecordCount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> PageSize { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">10</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> BlockSize { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">5</span>;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> DefaultSortColumn { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">&quot;ID&quot;</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Sort { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> SortDescending { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Block
        {
            <span class="hljs-keyword">get</span>
            {
                <span class="hljs-keyword">var</span> block = (<span class="hljs-keyword">int</span>)Math.Floor((Decimal)(<span class="hljs-keyword">this</span>.Page / <span class="hljs-keyword">this</span>.BlockSize));
                <span class="hljs-keyword">return</span> block &lt; <span class="hljs-keyword">this</span>.LastBlock ? block : LastBlock;
            }
        }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> LastPage =&gt; ((<span class="hljs-keyword">int</span>)Math.Floor((Decimal)((RecordCount - <span class="hljs-number">1</span>) / PageSize))) - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> LastBlock =&gt; (<span class="hljs-keyword">int</span>)Math.Floor((Decimal)(<span class="hljs-keyword">this</span>.LastPage / <span class="hljs-keyword">this</span>.BlockSize));
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> StartBlockPage =&gt; (Block * BlockSize);
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> EndBlockPage =&gt; (StartBlockPage + (BlockSize - <span class="hljs-number">1</span>)) &gt; LastPage ? LastPage : StartBlockPage + (BlockSize - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> HasBlocks =&gt; <span class="hljs-keyword">this</span>.LastPage &gt; BlockSize;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> HasPagination =&gt; <span class="hljs-keyword">this</span>.RecordCount &gt; PageSize;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> SortColumn
        {
            <span class="hljs-keyword">get</span> =&gt; (!<span class="hljs-keyword">string</span>.IsNullOrWhiteSpace(_sortColumn)) ? _sortColumn : DefaultSortColumn;
            <span class="hljs-keyword">set</span> =&gt; _sortColumn = <span class="hljs-keyword">value</span>;
        }

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> _sortColumn = <span class="hljs-keyword">string</span>.Empty;

        <span class="hljs-keyword">public</span> RecordPagingData PagingData =&gt; <span class="hljs-keyword">new</span> RecordPagingData()
        {
            Page = <span class="hljs-keyword">this</span>.Page,
            PageSize = <span class="hljs-keyword">this</span>.PageSize,
            Sort = <span class="hljs-keyword">this</span>.Sort,
            SortColumn = <span class="hljs-keyword">this</span>.SortColumn,
            SortDescending = <span class="hljs-keyword">this</span>.SortDescending
        };

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">event</span> EventHandler PageChanged;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">ToPage</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> page, <span class="hljs-keyword">bool</span> forceUpdate = <span class="hljs-literal">false</span></span>)</span>
        {
            <span class="hljs-keyword">var</span> move = (forceUpdate | !<span class="hljs-keyword">this</span>.Page.Equals(page)) &amp;&amp; page &gt;= <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (move)
            {
                <span class="hljs-keyword">this</span>.Page = page;
                <span class="hljs-keyword">this</span>.PageChanged?.Invoke(<span class="hljs-keyword">this</span>, EventArgs.Empty);
            }
            <span class="hljs-keyword">return</span> move;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">PageMove</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> pages</span>)</span>
        {
            <span class="hljs-keyword">var</span> move = <span class="hljs-keyword">this</span>.Page + pages &lt;= <span class="hljs-keyword">this</span>.LastPage &amp;&amp; <span class="hljs-keyword">this</span>.Page + pages &gt;= <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (move)
                <span class="hljs-keyword">this</span>.ToPage(<span class="hljs-keyword">this</span>.Page + pages);
            <span class="hljs-keyword">return</span> move;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">BlockMove</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> blocks</span>)</span>
        {
            <span class="hljs-keyword">var</span> move = <span class="hljs-keyword">this</span>.Block + blocks &lt;= <span class="hljs-keyword">this</span>.LastBlock &amp;&amp; <span class="hljs-keyword">this</span>.Block + blocks &gt;= <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (move)
                <span class="hljs-keyword">this</span>.ToPage((<span class="hljs-keyword">this</span>.Block + blocks) * BlockSize);
            <span class="hljs-keyword">return</span> move;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NotifySortingChanged</span>(<span class="hljs-params"></span>)</span>
           =&gt; <span class="hljs-keyword">this</span>.ToPage(<span class="hljs-number">1</span>, <span class="hljs-literal">true</span>);
    }
</div></code></pre>
<h4 id="recordpagingdata">RecordPagingData</h4>
<p>This is the class used to pass data into the dats services.  This has to be passed via json though the api so &quot;keep it simple&quot;. Again it's zero based indexing.</p>
<pre><code class="language-csharp"><div>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RecordPagingData</span>
    {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Page { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> PageSize { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">25</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> SortColumn { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">string</span>.Empty;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Sort { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> SortDescending { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> StartRecord =&gt; <span class="hljs-keyword">this</span>.Page * <span class="hljs-keyword">this</span>.PageSize;
    }
</div></code></pre>
<h4 id="datapagingcontrol">DataPagingControl</h4>
<p>The code again is self-explanatory, building out a Bootstrap ButtonGroup.  I've kept away from using icons, you can if you wish.</p>
<pre><code class="language-html"><div>@namespace Blazr.SPA.Components

@if (this.hasPagination)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&quot;...&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;() =&gt; this.RecordPager.ToPage(0)&quot;</span>&gt;</span><span class="hljs-symbol">&amp;vert;</span><span class="hljs-symbol">&amp;lt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            @if (this.RecordPager.HasBlocks)
            {
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;() =&gt; this.RecordPager.BlockMove(-1)&quot;</span>&gt;</span><span class="hljs-symbol">&amp;lt;</span><span class="hljs-symbol">&amp;lt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            }
            @for (var i = this.RecordPager.DisplayStartBlockPage; i <span class="hljs-tag">&lt;<span class="hljs-name">=</span> <span class="hljs-attr">this.RecordPager.DisplayEndBlockPage</span>; <span class="hljs-attr">i</span>++)
            {
                <span class="hljs-attr">var</span> <span class="hljs-attr">displayPageNo</span> = <span class="hljs-string">i;</span>
                <span class="hljs-attr">var</span> <span class="hljs-attr">pageNo</span> = <span class="hljs-string">i</span> <span class="hljs-attr">-</span> <span class="hljs-attr">1</span>;
                @<span class="hljs-attr">if</span> (<span class="hljs-attr">displayPageNo</span> &gt;</span> this.RecordPager.DisplayLastPage) break;
                @if (displayPageNo == this.RecordPager.DisplayPage)
                {
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item active&quot;</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span>&gt;</span>
                            @displayPageNo
                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sr-only&quot;</span>&gt;</span>(current)<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                }
                else
                {
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item&quot;</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;() =&gt; this.RecordPager.ToPage(pageNo)&quot;</span>&gt;</span>@displayPageNo<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                }

            }
            @if (this.RecordPager.HasBlocks)
            {
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;() =&gt; this.RecordPager.BlockMove(1)&quot;</span>&gt;</span><span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            }
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-item&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-link cursor-hand&quot;</span> @<span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;() =&gt; this.RecordPager.ToPage(this.RecordPager.LastPage)&quot;</span>&gt;</span><span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;vert;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
}

@code {
    [Parameter] public RecordPager RecordPager { get; set; }

    private bool hasPagination =&gt; this.RecordPager != null &amp;&amp; this.RecordPager.HasPagination;
}
</div></code></pre>
<h4 id="sortcontrol">SortControl</h4>
<p>The <code>SortControl</code> is used in a list header. It cascades itself and provides the interface into the Paginator for the header columns through a set of public helper methods.</p>
<pre><code class="language-csharp"><div>@namespace Blazor.SPA.Components

&lt;CascadingValue Value=<span class="hljs-string">&quot;this&quot;</span>&gt;
    @ChildContent
&lt;/CascadingValue&gt;

@code {

    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> RenderFragment ChildContent { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> NotSortedClass { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">&quot;sort-column oi oi-resize-height&quot;</span>;
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> AscendingClass { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">&quot;sort-column oi oi-sort-ascending&quot;</span>;
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> DescendingClass { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">&quot;sort-column oi oi-sort-descending&quot;</span>;
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> EventCallback&lt;SortingEventArgs&gt; Sort { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> RecordPager RecordPager { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> SortColumm { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">string</span>.Empty;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> Descending { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">false</span>;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetIcon</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> columnName</span>)</span>
        =&gt; !<span class="hljs-keyword">this</span>.SortColumm.Equals(columnName)
        ? <span class="hljs-keyword">this</span>.NotSortedClass
        : <span class="hljs-keyword">this</span>.Descending
            ? <span class="hljs-keyword">this</span>.AscendingClass
            : <span class="hljs-keyword">this</span>.DescendingClass;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NotifySortingChanged</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> sortColumn, <span class="hljs-keyword">bool</span> <span class="hljs-keyword">descending</span> = <span class="hljs-literal">false</span></span>)</span>
    {
        <span class="hljs-keyword">this</span>.SortColumm = sortColumn;
        <span class="hljs-keyword">this</span>.Descending = <span class="hljs-keyword">descending</span>;
        <span class="hljs-keyword">this</span>.Notify();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NotifySortingDirectionChanged</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">this</span>.Descending = !<span class="hljs-keyword">this</span>.Descending;
        <span class="hljs-keyword">this</span>.Notify();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Notify</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">if</span> (RecordPager != <span class="hljs-literal">null</span>)
            {
            RecordPager.SortDescending = <span class="hljs-keyword">this</span>.Descending;
            RecordPager.SortColumn = <span class="hljs-keyword">this</span>.SortColumm;
            RecordPager.NotifySortingChanged();
            }
        <span class="hljs-keyword">var</span> args = SortingEventArgs.Get(<span class="hljs-keyword">this</span>.SortColumm, <span class="hljs-keyword">this</span>.Descending);
        <span class="hljs-keyword">if</span> (Sort.HasDelegate) <span class="hljs-keyword">this</span>.Sort.InvokeAsync(args);
    }
}
</div></code></pre>
<h4 id="uilistcolumn">UIListColumn</h4>
<p>This is the UI control that builds out either the header or data rows.</p>
<pre><code class="language-html"><div>@namespace Blazr.UIComponents
@inherits UIComponentBase

@if (this.IsHeader)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;@this.HeaderCSS&quot;</span>&gt;</span>
        @((MarkupString)this.HeaderTitle)
    <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
}
else if (this.isMaxRowColumn)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;max-column&quot;</span> @<span class="hljs-attr">attributes</span>=<span class="hljs-string">&quot;this.SplatterAttributes&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grid-overflow&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grid-overflowinner&quot;</span>&gt;</span>
                @ChildContent
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
}
else
{
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;data-column&quot;</span> @<span class="hljs-attr">attributes</span>=<span class="hljs-string">&quot;this.SplatterAttributes&quot;</span>&gt;</span>
        @this.ChildContent
    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
}
</div></code></pre>
<p><em>UIListColumn.razor.cs</em>:</p>
<pre><code class="language-csharp"><div><span class="hljs-keyword">using</span> Blazr.SPA.Components;
<span class="hljs-keyword">using</span> Microsoft.AspNetCore.Components;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Blazr.UIComponents</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UIListColumn</span> : <span class="hljs-title">UIComponentBase</span>
    {
        [<span class="hljs-meta">CascadingParameter(Name = <span class="hljs-meta-string">&quot;IsHeader&quot;</span>)</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsHeader { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsMaxColumn { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> HeaderTitle { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsHeaderNoWrap { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> isMaxRowColumn =&gt; IsMaxColumn &amp;&amp; !<span class="hljs-keyword">this</span>.IsHeader;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> isNormalRowColumn =&gt; !IsMaxColumn &amp;&amp; !<span class="hljs-keyword">this</span>.IsHeader;
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">string</span>&gt; UnwantedAttributes</span> { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-keyword">string</span>&gt;() { <span class="hljs-string">&quot;class&quot;</span> };

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> HeaderCSS
            =&gt; CSSBuilder.Class()
                .AddClass(<span class="hljs-string">&quot;header-column-nowrap&quot;</span>, <span class="hljs-string">&quot;header-column&quot;</span>, IsHeaderNoWrap)
                .AddClass(<span class="hljs-string">&quot;align-baseline&quot;</span>)
                .Build();
    }
}
</div></code></pre>
<p><em>UIListColumn.razor.css</em>:</p>
<pre><code class="language-css"><div><span class="hljs-selector-class">.data-column</span> {
    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">30%</span>;
}

<span class="hljs-selector-class">.max-column</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;
}

<span class="hljs-selector-class">.grid-overflow</span> {
    <span class="hljs-attribute">display</span>: flex;
}

<span class="hljs-selector-class">.grid-overflowinner</span> {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">1px</span>;
    <span class="hljs-attribute">overflow-x</span>: hidden;
    <span class="hljs-attribute">white-space</span>: nowrap;
    <span class="hljs-attribute">text-overflow</span>: ellipsis;
}

<span class="hljs-selector-class">.header-column-nowrap</span> {
    <span class="hljs-attribute">white-space</span>: nowrap;
}
</div></code></pre>
<h4 id="uilistcontrol">UIListControl</h4>
<p>This control builds out the list</p>
<pre><code class="language-html"><div>@namespace Blazr.UIComponents
@inherits UIComponentBase
@typeparam TRecord

@if (this.LoadState == ComponentState.Loaded &amp;&amp; this.HasRecords)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> @<span class="hljs-attr">attributes</span>=<span class="hljs-string">&quot;this.SplatterAttributes&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">CascadingValue</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">&quot;IsHeader&quot;</span> <span class="hljs-attr">Value</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                    @RowTemplate(default(TRecord))
                <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">CascadingValue</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
            @foreach (var item in this.Records)
            {
                <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                    @RowTemplate(item)
                <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
            }
        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
}
else if (this.LoadState == ComponentState.Loaded)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-warning&quot;</span>&gt;</span>
        No Records to Display
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
else if (this.LoadState == ComponentState.Loading)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;m-2 p-2&quot;</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
else
{
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-danger&quot;</span>&gt;</span>
        Error Loading the List
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
</div></code></pre>
<pre><code class="language-csharp"><div>@code {
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> ComponentState LoadState { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> RenderFragment&lt;TRecord&gt; RowTemplate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> IEnumerable&lt;TRecord&gt; Records { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> HasRecords =&gt; Records.Count() &gt; <span class="hljs-number">0</span>;

}
</div></code></pre>
<h3 id="weather-forecast-list-forms">Weather Forecast List Forms</h3>
<p>There are three list forms in the solution.  They demonstrate different UI approaches.</p>
<ol>
<li>The classic web page approach using different RouteViews (Pages) for the record viewer and editor.</li>
<li>The modal dialog approach - opening and closing modal dialogs within the list RouteView.</li>
<li>The inline dialog approach - opening and closing a section within the RouteView to display/edit the record.</li>
</ol>
<p>The standard <code>WeatherForecastListForm</code> looks like this.  It inherits from <code>ListFormBase</code> with <code>WeatherForecast</code> as <code>TRecord</code>.  It assigns the <code>WeatherForecastViewService</code> to the base <code>IModelViewService</code> property <code>Service</code>.  Note it has a component Css file defining the custom Css used in the component.</p>
<pre><code class="language-csharp"><div><span class="hljs-comment">// Blazor.Database/Forms/WeatherForecast/WeatherForecastListForm.razor.cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WeatherForecastListForm</span> : <span class="hljs-title">ListFormBase</span>&lt;<span class="hljs-title">WeatherForecast</span>&gt;
{
    [<span class="hljs-meta">Inject</span>] <span class="hljs-keyword">private</span> WeatherForecastViewService ViewService { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    [<span class="hljs-meta">Parameter</span>] <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> IsModal { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">private</span> BaseModalDialog Modal { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">OnInitializedAsync</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">this</span>.Service = <span class="hljs-keyword">this</span>.ViewService;
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">base</span>.OnInitializedAsync();
    }
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Edit</span>(<span class="hljs-params">Guid id</span>)</span>
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsModal)
        {
            <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">new</span> ModalOptions();
            options.Set(<span class="hljs-string">&quot;Id&quot;</span>, id);
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.Modal.ShowAsync&lt;WeatherForecastEditorForm&gt;(options);
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">base</span>.Edit(id);
    }
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">View</span>(<span class="hljs-params">Guid id</span>)</span>
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsModal)
        {
            <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">new</span> ModalOptions();
            options.Set(<span class="hljs-string">&quot;Id&quot;</span>, id);
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.Modal.ShowAsync&lt;WeatherForecastViewerForm&gt;(options);
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">base</span>.View(id);
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">New</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsModal)
        {
            <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">new</span> ModalOptions();
            options.Set(<span class="hljs-string">&quot;Id&quot;</span>, <span class="hljs-number">-1</span>);
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.Modal.ShowAsync&lt;WeatherForecastEditorForm&gt;(options);
        }
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">base</span>.New();
    }
}
</div></code></pre>
<p>The razor markup.  Note:</p>
<ol>
<li>The <code>SortControl</code> in the header and the <code>UIListColumn</code> components building the header with the sortable columns.</li>
<li>The <code>DataPagingControl</code> in the botton button row linked to the <code>Service.RecordPager</code>.  Paging is event driven.  <code>DataPagingControl</code> paging requests are handled directly by <code>RecordPager</code> in the controller service.  Updates trigger a <code>ListChanged</code> event in the service which triggers a UI update in the List Form.</li>
<li>The <code>BaseModalDialog</code> added if the Form is using Modal Dialogs.</li>
</ol>
<pre><code class="language-html"><div>@namespace Blazor.Database.Forms
@inherits ListFormBase<span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecast</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Weather Forecasts<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">UIListControl</span> <span class="hljs-attr">TRecord</span>=<span class="hljs-string">&quot;WeatherForecast&quot;</span> <span class="hljs-attr">Records</span>=<span class="hljs-string">&quot;this.ViewService.Records&quot;</span> <span class="hljs-attr">LoadState</span>=<span class="hljs-string">&quot;this.LoadState&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">RowTemplate</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Date&quot;</span>&gt;</span>@context.Date.LocalDateTime.ToShortDateString()<span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Temp <span class="hljs-symbol">&amp;deg;</span> C&quot;</span>&gt;</span>@context.TemperatureC<span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Temp <span class="hljs-symbol">&amp;deg;</span> F&quot;</span>&gt;</span>@context.TemperatureF<span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Summary&quot;</span>&gt;</span>@context.Summary<span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Detail&quot;</span> <span class="hljs-attr">IsMaxColumn</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>@context.Description<span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIListColumn</span> <span class="hljs-attr">HeaderTitle</span>=<span class="hljs-string">&quot;Edit/View&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">UIButton</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-sm btn-secondary&quot;</span> <span class="hljs-attr">ClickEvent</span>=<span class="hljs-string">&quot;() =&gt; this.View(context.ID)&quot;</span>&gt;</span>View<span class="hljs-tag">&lt;/<span class="hljs-name">UIButton</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">UIButton</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-sm btn-primary&quot;</span> <span class="hljs-attr">ClickEvent</span>=<span class="hljs-string">&quot;() =&gt; this.Edit(context.ID)&quot;</span>&gt;</span>Edit<span class="hljs-tag">&lt;/<span class="hljs-name">UIButton</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">UIListColumn</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">RowTemplate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">UIListControl</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">UIContainer</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UIFormRow</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIColumn</span> <span class="hljs-attr">Cols</span>=<span class="hljs-string">&quot;8&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">DataPagingControl</span> <span class="hljs-attr">RecordPager</span>=<span class="hljs-string">&quot;this.ViewService.RecordPager&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DataPagingControl</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">UIColumn</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">UIButtonColumn</span> <span class="hljs-attr">Cols</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">UIButton</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">Show</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-success&quot;</span> <span class="hljs-attr">ClickEvent</span>=<span class="hljs-string">&quot;() =&gt; this.New()&quot;</span>&gt;</span>New Record<span class="hljs-tag">&lt;/<span class="hljs-name">UIButton</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">UIButton</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-secondary&quot;</span> <span class="hljs-attr">ClickEvent</span>=<span class="hljs-string">&quot;this.Exit&quot;</span>&gt;</span>Exit<span class="hljs-tag">&lt;/<span class="hljs-name">UIButton</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">UIButtonColumn</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">UIFormRow</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">UIContainer</span>&gt;</span>
@if (this.IsModal)
{
    <span class="hljs-tag">&lt;<span class="hljs-name">BaseModalDialog</span> @<span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;this.Modal&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">BaseModalDialog</span>&gt;</span>
}
</div></code></pre>
<h3 id="the-views">The Views</h3>
<p>The application declares a set of intermediate Views for the list forms.  These are common to both the WASM and Server SPAs</p>
<h4 id="fetchdata">FetchData</h4>
<p>This is the multi RouteView implementation.  Event handlers are hooked up <code>WeatherForecastListForm</code> to route to the different RouteViews through the <code>NavigationManager</code>.</p>
<pre><code class="language-html"><div>@page &quot;/fetchdata&quot;
@namespace Blazor.Database.RouteViews

<span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecastListForm</span> <span class="hljs-attr">EditRecord</span>=<span class="hljs-string">&quot;this.GoToEditor&quot;</span> <span class="hljs-attr">ViewRecord</span>=<span class="hljs-string">&quot;this.GoToViewer&quot;</span> <span class="hljs-attr">NewRecord</span>=<span class="hljs-string">&quot;this.GoToNew&quot;</span> <span class="hljs-attr">ExitAction</span>=<span class="hljs-string">&quot;Exit&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WeatherForecastListForm</span>&gt;</span>

@code {

    [Inject] NavigationManager NavManager { get; set; }

    private bool _isWasm =&gt; NavManager?.Uri.Contains(&quot;wasm&quot;, StringComparison.CurrentCultureIgnoreCase) ?? false;

    public void GoToEditor(Guid id)
    =&gt; this.NavManager.NavigateTo($&quot;weather/edit/{id}&quot;);

    public void GoToNew()
    =&gt; this.NavManager.NavigateTo($&quot;weather/edit/{Guid.Empty}&quot;);

    public void GoToViewer(Guid id)
    =&gt; this.NavManager.NavigateTo($&quot;weather/view/{id}&quot;);

    public void Exit()
    {
        if (_isWasm)
            this.NavManager.NavigateTo($&quot;/wasm&quot;);
        else
            this.NavManager.NavigateTo($&quot;/&quot;);
    }

}
</div></code></pre>
<h4 id="fetchdatamodal">FetchDataModal</h4>
<p>The modal implementation is simple.  It already handles editor/viewer state by enabling <code>IsModal</code>.  You don't really need it as you could declare <code>WeatherForecastListForm</code> directly in the RouteView.</p>
<pre><code class="language-html"><div>@page &quot;/fetchdataModal&quot;
@namespace Blazor.Database.RouteViews

<span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecastListForm</span> <span class="hljs-attr">IsModal</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WeatherForecastListForm</span>&gt;</span>
</div></code></pre>
<p>The inline dialog is the most complex.  It uses Ids to show/hide the Editor/Viewer through <code>UIComponent</code>.</p>
<pre><code class="language-html"><div>@page &quot;/fetchdataInline&quot;

@namespace Blazor.Database.RouteViews

<span class="hljs-tag">&lt;<span class="hljs-name">UIComponent</span> <span class="hljs-attr">Show</span>=<span class="hljs-string">&quot;this.ShowEditor&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecastEditorForm</span> <span class="hljs-attr">ID</span>=<span class="hljs-string">&quot;this.editorId&quot;</span> <span class="hljs-attr">ExitAction</span>=<span class="hljs-string">&quot;this.CloseDialog&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WeatherForecastEditorForm</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">UIComponent</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">UIComponent</span> <span class="hljs-attr">Show</span>=<span class="hljs-string">&quot;this.ShowViewer&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecastViewerForm</span> <span class="hljs-attr">ID</span>=<span class="hljs-string">&quot;this.viewerId&quot;</span> <span class="hljs-attr">ExitAction</span>=<span class="hljs-string">&quot;this.CloseDialog&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WeatherForecastViewerForm</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">UIComponent</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">WeatherForecastListForm</span> <span class="hljs-attr">EditRecord</span>=<span class="hljs-string">&quot;this.GoToEditor&quot;</span> <span class="hljs-attr">ViewRecord</span>=<span class="hljs-string">&quot;this.GoToViewer&quot;</span> <span class="hljs-attr">NewRecord</span>=<span class="hljs-string">&quot;this.GoToNew&quot;</span> <span class="hljs-attr">ExitAction</span>=<span class="hljs-string">&quot;Exit&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WeatherForecastListForm</span>&gt;</span>
</div></code></pre>
<pre><code class="language-csharp"><div>@code {

    [<span class="hljs-meta">Inject</span>] NavigationManager NavManager { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">private</span> Guid editorId = Guid.Empty;
    <span class="hljs-keyword">private</span> Guid viewerId = Guid.Empty;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> ShowViewer =&gt; <span class="hljs-keyword">this</span>.viewerId != Guid.Empty;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> ShowEditor =&gt; <span class="hljs-keyword">this</span>.editorId != Guid.Empty;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GoToEditor</span>(<span class="hljs-params">Guid id</span>)</span>
        =&gt; SetIds(id, Guid.Empty);

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GoToNew</span>(<span class="hljs-params"></span>)</span>
        =&gt; SetIds(Guid.Empty, Guid.Empty);

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GoToViewer</span>(<span class="hljs-params">Guid id</span>)</span>
        =&gt; SetIds(Guid.Empty, id);

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CloseDialog</span>(<span class="hljs-params"></span>)</span>
        =&gt; SetIds(Guid.Empty, Guid.Empty);

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Exit</span>(<span class="hljs-params"></span>)</span>
        =&gt; <span class="hljs-keyword">this</span>.NavManager.NavigateTo(<span class="hljs-string">&quot;index&quot;</span>);

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetIds</span>(<span class="hljs-params">Guid editorId, Guid viewerId</span>)</span>
    {
        <span class="hljs-keyword">this</span>.editorId = editorId;
        <span class="hljs-keyword">this</span>.viewerId = viewerId;
    }
}
</div></code></pre>
<h2 id="wrap-up">Wrap Up</h2>
<p>That wraps up this article.  Some key points to note:</p>
<ol>
<li>There's no differences between the Blazor Server and Blazor WASM code base.</li>
<li>90% plus functionality is implemented in the library components as boilerplate generic code.  Most of the application code is Razor markup for the individual record forms.</li>
<li>Async functionality is used throughout.</li>
</ol>
<p>Check the readme in the repository for the latest version of the article set.</p>
<h2 id="history">History</h2>
<ul>
<li>25-Sep-2020: Initial version.</li>
<li>17-Nov-2020: Major Blazor.CEC library changes.  Change to ViewManager from Router and new Component base implementation.</li>
<li>31-Mar-2021: Major updates to Services, project structure and data editing.</li>
<li>24-June-2021: revisions to data layers.</li>
</ul>

    

            </div>
        </div>
    </div>
</div>
<!-- end of Article Container -->


                </div>
                <!-- End of Main Content -->
            </div>
            <!-- Footer -->
            
<!-- Copyright -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            
<span>Copyright &copy; Cold Elm Coders - 2021</span>

        </div>
    </div>
</footer>
<!-- end of copyright -->


            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->
        
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


    </div>
    <!-- End of Page Wrapper -->
    <!-- Scripts -->
    
<!-- Scripts -->
<!-- Bootstrap core JavaScript-->
<script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="/assets/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="/assets/js/sb-admin-2.min.js"></script>


</body>
</html>
